; Vista UI - All Enhancement Tests Runner
; Runs all tests for enhancement feature groups.

import "src/vista/vista.art"!
import "tests/60-validation-tests.art"!
import "tests/61-computed-tests.art"!
import "tests/62-theme-tests.art"!
import "tests/63-animation-tests.art"!
import "tests/64-rate-feel-tests.art"!

run_group: function [label runner] [
    print ""
    print ["Running" label]
    if equal? label "validation" [
        result: 0
        if error? err: <= try [result: run_validation_tests] [
            print ["SKIP" label "-" to :string err]
            return 0
        ]
        if greater? result 0 [print ["PASS" label result] return result]
        print ["INFO" label "returned" result]
        return 0
    ]
    if equal? label "computed" [
        result: 0
        if error? err: <= try [result: run_computed_tests] [
            print ["SKIP" label "-" to :string err]
            return 0
        ]
        if greater? result 0 [print ["PASS" label result] return result]
        print ["INFO" label "returned" result]
        return 0
    ]
    if equal? label "theme" [
        result: 0
        if error? err: <= try [result: run_theme_tests] [
            print ["SKIP" label "-" to :string err]
            return 0
        ]
        if greater? result 0 [print ["PASS" label result] return result]
        print ["INFO" label "returned" result]
        return 0
    ]
    if equal? label "animation" [
        result: 0
        if error? err: <= try [result: run_animation_tests] [
            print ["SKIP" label "-" to :string err]
            return 0
        ]
        if greater? result 0 [print ["PASS" label result] return result]
        print ["INFO" label "returned" result]
        return 0
    ]
    if equal? label "rate/feel" [
        result: 0
        if error? err: <= try [result: run_rate_feel_tests] [
            print ["SKIP" label "-" to :string err]
            return 0
        ]
        if greater? result 0 [print ["PASS" label result] return result]
        print ["INFO" label "returned" result]
        return 0
    ]
    print ["SKIP" label "- no runner"]
    0
]

run_all_enhancement_tests: function [] [
    print "============================================"
    print "Vista UI - Enhancement Features Test Suite"
    print "============================================"
    print ""

    total_passed: 0

    total_passed: total_passed + run_group "validation" :run_validation_tests
    total_passed: total_passed + run_group "computed" :run_computed_tests
    total_passed: total_passed + run_group "theme" :run_theme_tests
    total_passed: total_passed + run_group "animation" :run_animation_tests
    total_passed: total_passed + run_group "rate/feel" :run_rate_feel_tests

    print ""
    print "============================================"
    print "Test Suite Complete"
    print "============================================"
    print ["Total:" total_passed "tests passed"]

    total_passed
]

run_all_enhancement_tests
